apiVersion: config.projectsveltos.io/v1alpha1
kind: ClusterFeature
metadata:
  name: clusterfeature-sample
spec:
  clusterSelector: env=fv
  syncMode: Continuous
  helmCharts:
  - repositoryURL: https://kyverno.github.io/kyverno/
    repositoryName: kyverno
    chartName: kyverno/kyverno
    chartVersion: v2.5.0
    releaseName: kyverno-latest
    releaseNamespace: kyverno
    values:
      replicaCount: 3
      podAnnotations:
        annotation1: annotation-value-1
    helmChartAction: Install
  - repositoryURL: https://helm.nginx.com/stable
    repositoryName: nginx-stable
    chartName: nginx-stable/nginx-ingress
    chartVersion: 0.14.0
    releaseName: nginx-latest
    releaseNamespace: nginx
    helmChartAction: Install
  - repositoryURL: https://charts.bitnami.com/bitnami
    repositoryName: bitnami
    chartName: bitnami/contour
    chartVersion: 9.1.2
    releaseName: contour
    releaseNamespace: projectcontour
    helmChartAction: Install
  policyRefs:
  - name: kyverno-disallow-gateway-2
    namespace: default

