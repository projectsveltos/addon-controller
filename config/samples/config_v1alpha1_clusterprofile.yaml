apiVersion: config.projectsveltos.io/v1alpha1
kind: ClusterProfile
metadata:
  name: clusterprofile-sample
spec:
  clusterSelector:
    matchLabels:
      env: fv
  syncMode: Continuous
  helmCharts:
  - repositoryURL: https://kyverno.github.io/kyverno/
    repositoryName: kyverno
    chartName: kyverno/kyverno
    chartVersion: v3.0.1
    releaseName: kyverno-latest
    releaseNamespace: kyverno
    values: |
      admissionController:
        replicas: 3
    helmChartAction: Install
  - repositoryURL: https://helm.nginx.com/stable
    repositoryName: nginx-stable
    chartName: nginx-stable/nginx-ingress
    chartVersion: 0.17.1
    releaseName: nginx-latest
    releaseNamespace: nginx
    helmChartAction: Install
  - repositoryURL: https://charts.bitnami.com/bitnami
    repositoryName: bitnami
    chartName: bitnami/contour
    chartVersion: 12.6.4
    releaseName: contour
    releaseNamespace: projectcontour
    helmChartAction: Install
  policyRefs:
  - name: kyverno-disallow-gateway-update
    namespace: default
    kind: ConfigMap